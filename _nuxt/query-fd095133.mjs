var m=Object.defineProperty,g=Object.defineProperties;var l=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var f=(r,e,t)=>e in r?m(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i=(r,e)=>{for(var t in e||(e={}))d.call(e,t)&&f(r,t,e[t]);if(w)for(var t of w(e))j.call(e,t)&&f(r,t,e[t]);return r},p=(r,e)=>g(r,l(e));import{w as k,f as S,j as T,g as q}from"./entry-04f2ec62.mjs";import{j as $,u as A}from"./json-ed319409.mjs";import{w as C}from"./utils-fdd1a8ec.mjs";const s=r=>Array.isArray(r)?r:r?[r]:[],x=["sort","where","only","without"],y=(r,e)=>{const t=i({},e);for(const n of x)t[n]&&(t[n]=s(t[n]));const o=(n,u=h=>h)=>(...h)=>(t[n]=u(...h),a),a={params:()=>Object.freeze(t),only:o("only",s),without:o("without",s),where:o("where",n=>[...s(t.where),n]),sort:o("sort",n=>[...s(t.sort),...s(n)]),limit:o("limit",n=>parseInt(String(n),10)),skip:o("skip",n=>parseInt(String(n),10)),findOne:()=>r(p(i({},t),{first:!0})),find:()=>r(t),findSurround:(n,u)=>r(p(i({},t),{surround:i({query:n},u)})),locale:n=>a.where({_locale:n})};return a},c=r=>{const e=C(`/query/${q(r)}`);return $fetch(e,{method:"GET",responseType:"json",params:{_params:$(r),previewToken:A("previewToken").value}})};function P(r,...e){if(typeof r=="string"){const t=k(S(T(r,...e)));return y(c).where({_path:new RegExp(`^${t}`)})}return y(c,r)}export{P as q};
