import{u as v,_ as C,a as B,b as L}from"./head-f3dc16bf.mjs";import{_ as S,d as b,B as i,D as k,q as _,y as p,z as f,E as n,F as w,G as D,H as q,e as A,I as x,r as z}from"./entry-04f2ec62.mjs";import{q as c}from"./query-fd095133.mjs";import"./json-ed319409.mjs";import"./utils-fdd1a8ec.mjs";const E=b({name:"index",async setup(g,{expose:d}){d();let t,e;const{data:l}=([t,e]=i(()=>A("urls",()=>c("/urls").find())),t=await t,e(),t),{data:a}=([t,e]=i(()=>x("logs",()=>c("/logs").find())),t=await t,e(),t),{data:o}=([t,e]=i(()=>x("reports",()=>c("/incidents").sort({title:0}).find())),t=await t,e(),t),r=k();v("StatusBase Status Page");const s={urls:l,logs:a,incidents:o,gridCount:r,retrieveLogs:y=>{var u;return(u=a.value)==null?void 0:u.find(h=>h._path.includes(y.split("/")[2]))}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),F={class:""},G={class:"mt-12 md:mt-20 font-semibold inline-flex items-end"},H=n("h2",{class:"text-xl md:text-3xl"},"Uptime",-1),I={class:"text-gray-400 md:text-xl ml-3 md:ml-6"},N={class:"flex flex-col items-center"};function O(g,d,t,e,l,a){const o=C,r=L,m=B;return _(),p("div",F,[f(o,{report_data:e.logs},null,8,["report_data"]),n("div",G,[H,n("h3",I,"Last "+w(e.gridCount)+" days",1)]),n("div",N,[(_(!0),p(D,null,q(e.urls,s=>(_(),z(r,{meta_data:s,report_data:e.retrieveLogs(s._path),key:s._id},null,8,["meta_data","report_data"]))),128))]),f(m,{incidents:e.incidents},null,8,["incidents"])])}var J=S(E,[["render",O]]);export{J as default};
